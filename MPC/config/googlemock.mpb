project : googletest {

  specific(prop:windows) {
    // Avoid adding "s" suffix in static builds
    Release::lit_libs += gmock
    Debug::lit_libs += gmockd
  } else {
    libs += gmock
  }

  specific(cmake) {
    libs -= gmock
    lit_libs += gmock
  }

  // This is required when building googlemock as a shared library
  verbatim(cmake, macros, 1) {
    if(BUILD_SHARED_LIBS)
      add_compile_definitions(GTEST_LINKED_AS_SHARED_LIBRARY)
    endif()
  }
}
